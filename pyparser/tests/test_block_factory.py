import unittest
import json
import sys

sys.path.append(".")
from pyparser.blocks.block_factory import BlockFactory
from pyparser.blocks.assignable_children_block_factory import (
    AssignableChildrenBlockFactory,
)


with open("pyparser/tests/sample.json", "r", encoding="utf-8") as f:
    dataset = json.load(f)


class TestBlockFactory(unittest.TestCase):
    def test_block_factory(self):
        factory = BlockFactory()
        blocks1 = factory.create_instances(dataset[-2]["html"])
        blocks2 = factory.create_instances(dataset[-4]["html"])

        self.assertEqual(
            len(blocks1[0]), 2
        )  # setup + speakerblock ![image](./dataset[-2].png)
        self.assertEqual(
            len(blocks2[0]), 9
        )  # setup + speakerblock*9 ![image](./dataset[-4].png)

    def test_assinable_child_block_factory(self):
        factory = AssignableChildrenBlockFactory()
        blocks_collection = factory.create_instances(sample_dom)

        has_children_block_num = 0
        for blocks in blocks_collection[0]:
            if not blocks.children:
                return
            has_children_block_num += 1

        self.assertEqual(has_children_block_num, 3)


# [!sample](./sample.png)
sample_dom = """
<svg width="470.96856689453125" height="255"><g data-id="setup_block" class="blocklyDraggable blocklySelected"><path class="blocklyPathDark" transform="translate(1,1)" fill="#ca9b32" d=" m 0,0  m 0,8 a 8 8 0 0,1 8,-8  h 53.30279541015625  v 5  H 61.30279541015625  V 5  H 61.30279541015625  V 27  H 61.30279541015625  V 27  V 31  h -31.80279541015625  l -6,4  -3,0  -6,-4  h -14.5  H 0 z
"></path><path class="blocklyPath" stroke="none" fill="#fdc23e" d=" m 0,0  m 0,8 a 8 8 0 0,1 8,-8  h 53.30279541015625  v 5  H 61.30279541015625  V 5  H 61.30279541015625  V 27  H 61.30279541015625  V 27  V 31  h -31.80279541015625  l -6,4  -3,0  -6,-4  h -14.5  H 0 z
"></path><path class="blocklyPathLight" stroke="#fed478" d=" m 0,0  m 0.5,8 a 7.5 7.5 0 0,1 8,-7.5  H 60.80279541015625  H 60.80279541015625  M 0.5,30.5  V 8 
"></path><g transform="translate(10,5)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">Setup</text></g><g data-id="nDA3TT}5Q=djiYGPKuh~" class="blocklyDraggable" transform="translate(0,32)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#1b447d" d=" m 0,0  h 15  l 6,4  3,0  6,-4  h 78.63995361328125  v 5  H 108.63995361328125  V 5  H 108.63995361328125  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 18  H 108.63995361328125  V 42  H 108.63995361328125  l -6,4  -3,0  -6,-4  h -7 a 8 8 0 0,0 -8,8  v 150 a 8 8 0 0,0 8,8  H 108.63995361328125  H 108.63995361328125  V 208  V 218  h -79.13995361328125  l -6,4  -3,0  -6,-4  h -6.5 a 8 8 0 0,1 -8,-8 z
"></path><path class="blocklyPath" stroke="none" fill="#22559c" d=" m 0,0  h 15  l 6,4  3,0  6,-4  h 78.63995361328125  v 5  H 108.63995361328125  V 5  H 108.63995361328125  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 18  H 108.63995361328125  V 42  H 108.63995361328125  l -6,4  -3,0  -6,-4  h -7 a 8 8 0 0,0 -8,8  v 150 a 8 8 0 0,0 8,8  H 108.63995361328125  H 108.63995361328125  V 208  V 218  h -79.13995361328125  l -6,4  -3,0  -6,-4  h -6.5 a 8 8 0 0,1 -8,-8 z
"></path><path class="blocklyPathLight" stroke="#6488ba" d=" m 0,0  m 0.5,0.5  H 14.5  h 0.5  l 6,4  3,0  6,-4  H 108.13995361328125  H 108.13995361328125  M 108.63995361328125,5  m -5,14.3  l 3.68,-2.1  M 78.63995361328125,208  m 1.9895923599143455,-1.9895923599143455 a 8.5 8.5 0 0,0 6.0104076400856545,2.4895923599143455  l 21.5,0  H 108.13995361328125  M 0,218  m 2.6966991411008934,-2.6966991411008934 a 7.5 7.5 0 0,1 -2.1966991411008934,-5.303300858899107  V 0.5 
"></path><g class="blocklyIconGroup" display="block" transform="translate(10,5)"><rect class="blocklyIconShape" rx="4" ry="4" height="16" width="16" fill="#00f" stroke="#fff" stroke-width="1px"></rect><path class="blocklyIconSymbol" d="m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z" fill="#fff"></path><circle class="blocklyIconShape" r="2.7" cx="8" cy="8" fill="#00f" stroke="#fff" stroke-width="1px"></circle></g><g transform="translate(37,5)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">もし</text></g><g transform="translate(10,47)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">であれば</text></g><g data-id=".+ucucE+jGwr:]sNjqut" class="blocklyDraggable" transform="translate(101.63995361328122,0)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#1b447d" d=" m 8,0  h 143.6020050048828  v 5  H 151.6020050048828  V 5  H 151.6020050048828  V 38  H 151.6020050048828  V 38  V 42  h -143.6020050048828  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
 M 24,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z M 110.49678039550781,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z"></path><path class="blocklyPath" stroke="none" fill="#22559c" d=" m 8,0  h 143.6020050048828  v 5  H 151.6020050048828  V 5  H 151.6020050048828  V 38  H 151.6020050048828  V 38  V 42  h -143.6020050048828  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
 M 24,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z M 110.49678039550781,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z"></path><path class="blocklyPathLight" stroke="#6488ba" d=" m 8,0  m 0.5,0.5  H 151.1020050048828  H 151.1020050048828  M 8.5,41.5  M 8.5,41.5  V 20  v -1.5  m -7.36,-0.5  q -1.52,-5.5  0,-11  m 7.36,1  V 0.5 
 M 55.605224609375,5.5  v 33  h -31.105224609375  M 24,10  m -5,14.3  l 3.68,-2.1  M 142.1020050048828,5.5  v 33  h -31.105224609375  M 110.49678039550781,10  m -5,14.3  l 3.68,-2.1 "></path><g class="blocklyEditableText" transform="translate(60.105224609375,10)" style="cursor: default;"><rect rx="4" ry="4" x="0" y="0" height="22" width="39.39155578613281" class="blocklyFieldRect blocklyDropdownRect" fill="#fff" fill-opacity=".6" stroke="none"></rect><text class="blocklyText blocklyDropdownText" fill="#000" text-anchor="start" x="5" y="15" style="font: 11pt sans-serif;">=<tspan style="fill: rgb(34, 85, 156);"> ▾</tspan></text><image style="display: none;"></image></g><g data-id="3DegP@r4D[Dj[Td#Y{J)" class="blocklyDraggable" transform="translate(17.000000000000014,5.999999999999943)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#2687b2" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPath" stroke="none" fill="#30a9de" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPathLight" stroke="#6ec3e8" d=" m 8,0  m 0.5,0.5  H 36.605224609375  H 36.605224609375  M 8.5,30.5  M 8.5,30.5  V 20  v -1.5  m -7.36,-0.5  q -1.52,-5.5  0,-11  m 7.36,1  V 0.5 
"></path><g class="blocklyEditableText" transform="translate(13,5)" style="cursor: text;"><rect rx="4" ry="4" x="0" y="0" height="22" width="19.105224609375" class="blocklyFieldRect" fill="#fff" fill-opacity=".6" stroke="none"></rect><text class="blocklyText" fill="#000" x="5" y="15" style="font: 11pt sans-serif;">0</text></g></g><g data-id="a`~lljp{n6!Ik}1R8%X(" class="blocklyDraggable" transform="translate(103.49678039550784,6)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#2687b2" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPath" stroke="none" fill="#30a9de" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPathLight" stroke="#6ec3e8" d=" m 8,0  m 0.5,0.5  H 36.605224609375  H 36.605224609375  M 8.5,30.5  M 8.5,30.5  V 20  v -1.5  m -7.36,-0.5  q -1.52,-5.5  0,-11  m 7.36,1  V 0.5 
"></path><g class="blocklyEditableText" transform="translate(13,5)" style="cursor: text;"><rect rx="4" ry="4" x="0" y="0" height="22" width="19.105224609375" class="blocklyFieldRect" fill="#fff" fill-opacity=".6" stroke="none"></rect><text class="blocklyText" fill="#000" x="5" y="15" style="font: 11pt sans-serif;">0</text></g></g></g><g data-id="%Z7VfQ@.d%]sQXb:xQUQ" class="blocklyDraggable" transform="translate(79.63995361328125,43)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#cc9635" d=" m 0,0  m 0,8 a 8 8 0 0,1 8,-8  h 7  l 6,4  3,0  6,-4  h 77.95993041992188  v 5  H 107.95993041992188  V 5  H 107.95993041992188  V 27  H 107.95993041992188  V 27  V 31  h -78.45993041992188  l -6,4  -3,0  -6,-4  h -14.5  H 0 z
"></path><path class="blocklyPath" stroke="none" fill="#ffbc42" d=" m 0,0  m 0,8 a 8 8 0 0,1 8,-8  h 7  l 6,4  3,0  6,-4  h 77.95993041992188  v 5  H 107.95993041992188  V 5  H 107.95993041992188  V 27  H 107.95993041992188  V 27  V 31  h -78.45993041992188  l -6,4  -3,0  -6,-4  h -14.5  H 0 z
"></path><path class="blocklyPathLight" stroke="#ffd07b" d=" m 0,0  m 0.5,8 a 7.5 7.5 0 0,1 8,-7.5  H 14.5  h 0.5  l 6,4  3,0  6,-4  H 107.45993041992188  H 107.45993041992188  M 0.5,30.5  V 8 
"></path><g transform="translate(10,5)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">画面をクリア</text></g><g data-id="oDic$*,7mzrfe^[[^-^)" class="blocklyDraggable" transform="translate(0,32)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#1b447d" d=" m 0,0  h 15  l 6,4  3,0  6,-4  h 78.63995361328125  v 5  H 108.63995361328125  V 5  H 108.63995361328125  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 18  H 108.63995361328125  V 42  H 108.63995361328125  l -6,4  -3,0  -6,-4  h -7 a 8 8 0 0,0 -8,8  v 62 a 8 8 0 0,0 8,8  H 108.63995361328125  H 108.63995361328125  V 120  V 130  h -79.13995361328125  l -6,4  -3,0  -6,-4  h -6.5 a 8 8 0 0,1 -8,-8 z
"></path><path class="blocklyPath" stroke="none" fill="#22559c" d=" m 0,0  h 15  l 6,4  3,0  6,-4  h 78.63995361328125  v 5  H 108.63995361328125  V 5  H 108.63995361328125  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 18  H 108.63995361328125  V 42  H 108.63995361328125  l -6,4  -3,0  -6,-4  h -7 a 8 8 0 0,0 -8,8  v 62 a 8 8 0 0,0 8,8  H 108.63995361328125  H 108.63995361328125  V 120  V 130  h -79.13995361328125  l -6,4  -3,0  -6,-4  h -6.5 a 8 8 0 0,1 -8,-8 z
"></path><path class="blocklyPathLight" stroke="#6488ba" d=" m 0,0  m 0.5,0.5  H 14.5  h 0.5  l 6,4  3,0  6,-4  H 108.13995361328125  H 108.13995361328125  M 108.63995361328125,5  m -5,14.3  l 3.68,-2.1  M 78.63995361328125,120  m 1.9895923599143455,-1.9895923599143455 a 8.5 8.5 0 0,0 6.0104076400856545,2.4895923599143455  l 21.5,0  H 108.13995361328125  M 0,130  m 2.6966991411008934,-2.6966991411008934 a 7.5 7.5 0 0,1 -2.1966991411008934,-5.303300858899107  V 0.5 
"></path><g class="blocklyIconGroup" display="block" transform="translate(10,5)"><rect class="blocklyIconShape" rx="4" ry="4" height="16" width="16" fill="#00f" stroke="#fff" stroke-width="1px"></rect><path class="blocklyIconSymbol" d="m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z" fill="#fff"></path><circle class="blocklyIconShape" r="2.7" cx="8" cy="8" fill="#00f" stroke="#fff" stroke-width="1px"></circle></g><g transform="translate(37,5)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">もし</text></g><g transform="translate(10,47)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">であれば</text></g><g data-id="7w*eSmGk6mQ/0%!qd9M_" class="blocklyDraggable" transform="translate(101.63995361328126,8.526512829121202e-14)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#1b447d" d=" m 8,0  h 143.6020050048828  v 5  H 151.6020050048828  V 5  H 151.6020050048828  V 38  H 151.6020050048828  V 38  V 42  h -143.6020050048828  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
 M 24,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z M 110.49678039550781,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z"></path><path class="blocklyPath" stroke="none" fill="#22559c" d=" m 8,0  h 143.6020050048828  v 5  H 151.6020050048828  V 5  H 151.6020050048828  V 38  H 151.6020050048828  V 38  V 42  h -143.6020050048828  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
 M 24,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z M 110.49678039550781,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z"></path><path class="blocklyPathLight" stroke="#6488ba" d=" m 8,0  m 0.5,0.5  H 151.1020050048828  H 151.1020050048828  M 8.5,41.5  M 8.5,41.5  V 20  v -1.5  m -7.36,-0.5  q -1.52,-5.5  0,-11  m 7.36,1  V 0.5 
 M 55.605224609375,5.5  v 33  h -31.105224609375  M 24,10  m -5,14.3  l 3.68,-2.1  M 142.1020050048828,5.5  v 33  h -31.105224609375  M 110.49678039550781,10  m -5,14.3  l 3.68,-2.1 "></path><g class="blocklyEditableText" transform="translate(60.105224609375,10)" style="cursor: default;"><rect rx="4" ry="4" x="0" y="0" height="22" width="39.39155578613281" class="blocklyFieldRect blocklyDropdownRect" fill="#fff" fill-opacity=".6" stroke="none"></rect><text class="blocklyText blocklyDropdownText" fill="#000" text-anchor="start" x="5" y="15" style="font: 11pt sans-serif;">=<tspan style="fill: rgb(34, 85, 156);"> ▾</tspan></text><image style="display: none;"></image></g><g data-id="kP7vd/2VLK}[fEu~cP=/" class="blocklyDraggable" transform="translate(17,6)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#2687b2" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPath" stroke="none" fill="#30a9de" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPathLight" stroke="#6ec3e8" d=" m 8,0  m 0.5,0.5  H 36.605224609375  H 36.605224609375  M 8.5,30.5  M 8.5,30.5  V 20  v -1.5  m -7.36,-0.5  q -1.52,-5.5  0,-11  m 7.36,1  V 0.5 
"></path><g class="blocklyEditableText" transform="translate(13,5)" style="cursor: text;"><rect rx="4" ry="4" x="0" y="0" height="22" width="19.105224609375" class="blocklyFieldRect" fill="#fff" fill-opacity=".6" stroke="none"></rect><text class="blocklyText" fill="#000" x="5" y="15" style="font: 11pt sans-serif;">0</text></g></g><g data-id="uMJFbwEl$C%hFdgqarSh" class="blocklyDraggable" transform="translate(103.49678039550781,6)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#2687b2" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPath" stroke="none" fill="#30a9de" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPathLight" stroke="#6ec3e8" d=" m 8,0  m 0.5,0.5  H 36.605224609375  H 36.605224609375  M 8.5,30.5  M 8.5,30.5  V 20  v -1.5  m -7.36,-0.5  q -1.52,-5.5  0,-11  m 7.36,1  V 0.5 
"></path><g class="blocklyEditableText" transform="translate(13,5)" style="cursor: text;"><rect rx="4" ry="4" x="0" y="0" height="22" width="19.105224609375" class="blocklyFieldRect" fill="#fff" fill-opacity=".6" stroke="none"></rect><text class="blocklyText" fill="#000" x="5" y="15" style="font: 11pt sans-serif;">0</text></g></g></g><g data-id="^e@P:KZF,Q*Mo$~rbdOy" class="blocklyDraggable" transform="translate(79.63995361328124,43.00000000000003)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#be1e4d" d=" m 0,0  m 0,8 a 8 8 0 0,1 8,-8  h 7  l 6,4  3,0  6,-4  h 93.96995544433594  v 5  H 123.96995544433594  V 5  H 123.96995544433594  V 38  H 123.96995544433594  V 38  V 42  h -94.46995544433594  l -6,4  -3,0  -6,-4  h -14.5  H 0 z
 M 16,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z"></path><path class="blocklyPath" stroke="none" fill="#ee2560" d=" m 0,0  m 0,8 a 8 8 0 0,1 8,-8  h 7  l 6,4  3,0  6,-4  h 93.96995544433594  v 5  H 123.96995544433594  V 5  H 123.96995544433594  V 38  H 123.96995544433594  V 38  V 42  h -94.46995544433594  l -6,4  -3,0  -6,-4  h -14.5  H 0 z
 M 16,5  v 5  c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5  v 13  h 31.105224609375  v -33 z"></path><path class="blocklyPathLight" stroke="#f36690" d=" m 0,0  m 0.5,8 a 7.5 7.5 0 0,1 8,-7.5  H 14.5  h 0.5  l 6,4  3,0  6,-4  H 123.46995544433594  H 123.46995544433594  M 0.5,41.5  V 8 
 M 47.605224609375,5.5  v 33  h -31.105224609375  M 16,10  m -5,14.3  l 3.68,-2.1 "></path><g data-id=",]49){suNp4NH*o^6X`@" transform="translate(9,6.000000000000142)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#acddf2" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPath" stroke="none" fill="#acddf2" d=" m 8,0  h 29.105224609375  v 5  H 37.105224609375  V 5  H 37.105224609375  V 27  H 37.105224609375  V 27  V 31  h -29.105224609375  H 8  V 20  c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5 z
"></path><path class="blocklyPathLight" stroke="#6ec3e8" d=" m 8,0  m 0.5,0.5  H 36.605224609375  H 36.605224609375  M 8.5,30.5  M 8.5,30.5  V 20  v -1.5  m -7.36,-0.5  q -1.52,-5.5  0,-11  m 7.36,1  V 0.5 
" style="display: none;"></path><g class="blocklyEditableText" transform="translate(13,5)" style="cursor: text;"><rect rx="4" ry="4" x="0" y="0" height="22" width="19.105224609375" class="blocklyFieldRect" fill="#fff" fill-opacity=".6" stroke="none"></rect><text class="blocklyText" fill="#000" x="5" y="15" style="font: 11pt sans-serif;">1</text></g></g><g transform="translate(57.105224609375,10)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">[秒]停止</text></g><g data-id="^2yW%{6R2kI;M1B9yh`)" class="blocklyDraggable" transform="translate(0,43.000000000000114)" style="display: block;"><path class="blocklyPathDark" transform="translate(1,1)" fill="#be5f6a" d=" m 0,0  h 15  l 6,4  3,0  6,-4  h 280.6886444091797  v 5  H 310.6886444091797  V 5  H 310.6886444091797  V 27  H 310.6886444091797  V 27  V 31  h -281.1886444091797  l -6,4  -3,0  -6,-4  h -6.5 a 8 8 0 0,1 -8,-8 z
"></path><path class="blocklyPath" stroke="none" fill="#ee7785" d=" m 0,0  h 15  l 6,4  3,0  6,-4  h 280.6886444091797  v 5  H 310.6886444091797  V 5  H 310.6886444091797  V 27  H 310.6886444091797  V 27  V 31  h -281.1886444091797  l -6,4  -3,0  -6,-4  h -6.5 a 8 8 0 0,1 -8,-8 z
"></path><path class="blocklyPathLight" stroke="#f3a0aa" d=" m 0,0  m 0.5,0.5  H 14.5  h 0.5  l 6,4  3,0  6,-4  H 310.1886444091797  H 310.1886444091797  M 0,31  m 2.6966991411008934,-2.6966991411008934 a 7.5 7.5 0 0,1 -2.1966991411008934,-5.303300858899107  V 0.5 
"></path><g transform="translate(10,5)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">絵文字の行</text></g><g class="blocklyEditableText" transform="translate(88.29994201660156,5)" style="cursor: default;"><rect rx="4" ry="4" x="0" y="0" height="22" width="36.714385986328125" class="blocklyFieldRect blocklyDropdownRect" fill="#fff" fill-opacity=".6" stroke="none"></rect><text class="blocklyText blocklyDropdownText" fill="#000" text-anchor="start" x="5" y="15" style="font: 11pt sans-serif;">1<tspan style="fill: rgb(238, 119, 133);"> ▾</tspan></text><image style="display: none;"></image></g><g transform="translate(130.0143280029297,5)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">列</text></g><g class="blocklyEditableText" transform="translate(149.67431640625,5)" style="cursor: default;"><rect rx="4" ry="4" x="0" y="0" height="22" width="36.714385986328125" class="blocklyFieldRect blocklyDropdownRect" fill="#fff" fill-opacity=".6" stroke="none"></rect><text class="blocklyText blocklyDropdownText" fill="#000" text-anchor="start" x="5" y="15" style="font: 11pt sans-serif;">1<tspan style="fill: rgb(238, 119, 133);"> ▾</tspan></text><image style="display: none;"></image></g><g transform="translate(191.38870239257812,5)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">を</text></g><g class="blocklyEditableText" transform="translate(211.04869079589844,5)" style="cursor: default;"><rect rx="4" ry="4" x="0" y="0" height="16" width="26" class="blocklyFieldRect" fill="#fff" fill-opacity=".6" stroke="none" style="fill-opacity: 1; fill: rgb(255, 0, 0);"></rect></g><g transform="translate(242.04869079589844,5)"><text class="blocklyText" fill="#fff" x="0" y="15" style="font: 11pt sans-serif;">色で表示</text></g></g></g></g></g></g></g></svg>
"""

if __name__ == "__main__":
    unittest.main()
